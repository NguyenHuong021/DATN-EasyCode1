<<<<<<< HEAD
<!DOCTYPE HTML>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#00878F">
  <link rel="icon" href="img/ardublockly_splash.png">
  <title class="translatable_title">EASYCODE</title>

  <!-- Materialize, Prettify, and Ardublockly CSS -->
  <link rel="stylesheet" href="materialize/materialize.css" media="screen,projection">
  <link rel="stylesheet" href="prettify/arduino.css">
  <link rel="stylesheet" href="ardublockly.css" media="screen,projection">
  <link rel="stylesheet" href="font-awesome-4.7.0/css/font-awesome.min.css" media="screen,projection" >

  <!-- Ardublockly - These three files contain the compress version -->
  <!-- <script src="../blockly/blockly_compressed.js"></script>
  <script src="../blockly/blocks_compressed.js"></script>
  <script src="../blockly/arduino_compressed.js"></script> -->
  <!-- To use the uncompressed version comment out the above and comment in the ones below -->
  <script src="../blockly/blockly_uncompressed.js"></script>
  <script src="../blockly/blocks/logic.js"></script>
  <script src="../blockly/blocks/loops.js"></script>
  <script src="../blockly/blocks/math.js"></script>
  <script src="../blockly/blocks/text.js"></script>
  <script src="../blockly/blocks/lists.js"></script>
  <script src="../blockly/blocks/colour.js"></script>
  <script src="../blockly/blocks/variables.js"></script>
  <script src="../blockly/blocks/procedures.js"></script>
  <script src="../blockly/blocks/arduino/io.js"></script>
  <script src="../blockly/blocks/arduino/map.js"></script>
  <script src="../blockly/blocks/arduino/procedures.js"></script>
  <script src="../blockly/blocks/arduino/serial.js"></script>
  <script src="../blockly/blocks/arduino/servo.js"></script>
  <script src="../blockly/blocks/arduino/spi.js"></script>
  <script src="../blockly/blocks/arduino/stepper.js"></script>
  <script src="../blockly/blocks/arduino/time.js"></script>
  <script src="../blockly/blocks/arduino/tone.js"></script>
  <script src="../blockly/blocks/arduino/variables.js"></script>
  <script src="../blockly/generators/arduino.js"></script>
  <script src="../blockly/generators/arduino/boards.js"></script>
  <script src="../blockly/generators/arduino/io.js"></script>
  <script src="../blockly/generators/arduino/lists.js"></script>
  <script src="../blockly/generators/arduino/logic.js"></script>
  <script src="../blockly/generators/arduino/loops.js"></script>
  <script src="../blockly/generators/arduino/map.js"></script>
  <script src="../blockly/generators/arduino/math.js"></script>
  <script src="../blockly/generators/arduino/procedures.js"></script>
  <script src="../blockly/generators/arduino/serial.js"></script>
  <script src="../blockly/generators/arduino/servo.js"></script>
  <script src="../blockly/generators/arduino/spi.js"></script>
  <script src="../blockly/generators/arduino/stepper.js"></script>
  <script src="../blockly/generators/arduino/text.js"></script>
  <script src="../blockly/generators/arduino/time.js"></script>
  <script src="../blockly/generators/arduino/tone.js"></script>
  <script src="../blockly/generators/arduino/variables.js"></script>
  <script type="text/javascript" src="../blockly/generators/arduino/grove.js"></script>
  <script type="text/javascript" src="../blockly/blocks/grove/grove.js"></script>
  <script type="text/javascript" src="../blockly/generators/arduino/arduino_robot.js"></script>
  <script type="text/javascript" src="../blockly/blocks/grove/arduino_robot.js"></script>
  <script type="text/javascript" src="../blockly/generators/arduino/IoT.js"></script>
  <script type="text/javascript" src="../blockly/blocks/grove/IoT.js"></script>
  <script type="text/javascript" src="../blockly/generators/arduino/Mbot.js"></script>
  <script type="text/javascript" src="../blockly/blocks/grove/Mbot.js"></script>
  <script type="text/javascript" src="../blockly/blocks/Python/Python_robot.js"></script>
  <script type="text/javascript" src="../blockly/blocks/Python/serial.js"></script>

  <script type="text/javascript" src="../blockly/generators/python.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/colour.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/lists.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/logic.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/loops.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/math.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/procedures.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/text.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/variables.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/Python_robot.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/time.js"></script>
  <script type="text/javascript" src="../blockly/generators/python/serial.js"></script>
  <!-- Default language js files, user selection appended to head on load -->
  <script src="../blockly/msg/js/en.js"></script>
  <script src="msg/en.js"></script>
</head>

<body>
  <!-- Horizontal Navigation bar -->
  <nav class="nav-fixed arduino_teal">
    <div class="nav-wrapper container">
      <a class="show-on-large button-collapse" href="#" data-activates="slide-out" id="button-collapse"><i class="mdi-navigation-menu"></i></a>
      <a id="logo-container" class="brand-logo">
        <img src="img/logo_1.png" height="40px" >
        <!-- Sketch name editable text field -->
        <span class="sketch_name_wrapper">
          <i class="mdi-image-edit sketch_name_icon"></i>
          <input id="sketch_name" class="sketch_name" type="text">
        </span>
      </a>
      <a class="name_top text_color_yellow" >Learn to Code - Code to Learn</a>
      <!-- Horizontal Navbar links only shown on large resolutions -->
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="#" id="button_load"><span class="translatable_open">Open</span><i class="mdi-file-file-upload left"></i></a></li>
        <li><a href="#" id="button_save"><span class="translatable_save">Save</span><i class="mdi-file-file-download left"></i></a></li>
        <li><a href="#" id="button_delete"><span class="translatable_deleteAll">Delete All</span><i class="mdi-action-delete left"></i></a></li>
      </ul>
    </div>
  </nav>

  <!-- Sidebar navigation -->
  <ul id="slide-out" class="side-nav">
    <li class="logo"><img src="img/sidenav_header.png" alt="Ardublockly block image"></li>
    <li class="no-padding">
      <ul>
        <li id="menu_load"><a href="#"><span class="translatable_open">Open</span><i class="mdi-file-file-upload left"></i></a></li>
        <li id="menu_save"><a href="#"><span class="translatable_save">Save</span><i class="mdi-file-file-download left"></i></a></li>
        <li id="menu_delete"><a href="#"><span class="translatable_deleteAll">Delete All</span><i class="mdi-action-delete left"></i></a></li>
        <li id="menu_settings"><a href="#"><span class="translatable_settings">Settings</span><i class="mdi-action-settings left"></i></a></li>
        <li id="menu_bug"><a href="https://github.com/carlosperate/ardublockly/wiki" target="_blank"><span class="translatable_documentation">Documentation</span><i class="mdi-action-help left"></i></a></li>
        <li id="menu_bug"><a href="http://github.com/carlosperate/ardublockly/issues" target="_blank"><span class="translatable_reportBug">Report Bug</span><i class="mdi-action-bug-report left"></i></a></li>
      </ul>
    <li class="no-padding">
      <ul class="collapsible collapsible-accordion">
        <li>
          <div class="collapsible-header"><span class="translatable_examples">Examples</span><i class="mdi-navigation-arrow-drop-down"></i></div>
          <div class="collapsible-body">
            <ul>
              <li id="menu_example_1"><a href="#!">Blink</a></li>
              <li id="menu_example_2"><a href="#!">Serial print</a></li>
              <li id="menu_example_3"><a href="#!">Serial repeat game</a></li>
              <li id="menu_example_4"><a href="#!">Servo knob</a></li>
              <li id="menu_example_5"><a href="#!">dieu_khien_giong_noi</a></li>
              <li id="menu_example_6"><a href="#!">dieu_khien_giong_noi</a></li>
            </ul>
          </div>
        </li>
      </ul>
    </li>
    <li class="no-padding side-menu-end">&nbsp;</li>
  </ul>

  <!-- Content -->
  <div class="container" id="main">
    <div class="row">
      <div class="col s12 m12 l8" style="position:relative" id="block_content">
        <!-- Toolbox visibility button -->
        <a id="button_toggle_toolbox" class="waves-effect waves-light btn-flat button_toggle_toolbox_off" style="display: none"><i id="button_toggle_toolbox_icon" class="mdi-action-visibility-off"></i></a>
        <!-- Arduino IDE action buttons -->
        <div id="ide_buttons_wrapper">
          <a id="button_ide_left" class="waves-effect waves-light waves-circle btn-floating z-depth-1-half arduino_yellow"><i id="button_ide_left_icon" class="mdi-action-open-in-browser"></i></a>
          <a id="button_ide_middle" class="waves-effect waves-light waves-circle btn-floating z-depth-1-half arduino_teal"><i id="button_ide_middle_icon" class="mdi-navigation-check"></i></a>
          <a id="button_ide_large" class="waves-effect waves-light waves-circle btn-floating z-depth-1-half arduino_orange"><i id="button_ide_large_icon" class="mdi-av-play-arrow"></i></a>
          <div id="button_ide_large_spinner" class="preloader-wrapper active ide_loader" style="display:none">
            <div class="spinner-layer spinner-orange">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
            <div class="spinner-layer spinner-dark-teal">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
            <div class="spinner-layer spinner-yellow">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
            <div class="spinner-layer spinner-light-teal">
              <div class="circle-clipper left">
                <div class="circle"></div>
              </div><div class="gap-patch">
                <div class="circle"></div>
              </div><div class="circle-clipper right">
                <div class="circle"></div>
              </div>
            </div>
          </div>
        </div>
        <!-- Blockly Panel -->
        <div class="card-panel white" style="padding: 0">
          <div id="blocks_panel" class="content blocks_panel_large">
            <div id="content_blocks" class="content z-depth-1"></div>
          </div>
        </div>
      </div>
      <div class="col s12 m12 l4" id="arduino_content">
        <ul class="collapsible z-depth-1" data-collapsible="accordion" style="z-index: 1;position:relative;">
          <li>
            <div class="collapsible-header active">
              <span class="collapsible_logo">{ }</span>
              <span class="translatable_arduinoSourceCode">Arduino Source Code</span>
            </div>
            <div class="collapsible-body">
              <pre id="content_arduino" class="content content_height_transition content_arduino_large"></pre>
            </div>
          </li>
          <li style="display:none">
            <div class="collapsible-header" id="xml_collapsible_header" >
              <span class="collapsible_logo">&#60; &#62;</span>
              <span class="translatable_blocksXml">Blocks XML</span>
            </div>
            <div class="collapsible-body" style="position:relative" id="xml_collapsible_body">
              <a class="btn-floating btn-large waves-effect waves-light arduino_teal z-depth-1-half" id="button_load_xml"><i class="mdi-action-extension"></i></a>
              <textarea id="content_xml" class="content content_height_transition content_xml_large" wrap="soft"></textarea>
            </div>
          </li>
        </ul>
        <div class="robo_image" >
          <a>
          <img src="./img/AppIcon.svg" >
          </a>
          <a>www.kidscode.edu.vn</a>
        </div>        
      </div>
    </div>
  </div>

  <!-- IDE Output content -->
  <div class="ide_output_wrapper">
    <ul class="collapsible ide_output_collapsible" data-collapsible="expandable">
      <li>
        <div id="ide_output_collapsible_header" class="collapsible-header ide_output_header_normal">
          <i class="mdi-action-swap-vert Medium" style="font-size: 2.2rem;"></i>
          <span class="translatable_arduinoOpMainTitle">Arduino IDE output</span>
        </div>
        <div class="collapsible-body">
          <div id="content_ide_output" class="content"></div>
        </div>
      </li>
    </ul>
  </div>
  <div id="ide_output_spacer"></div>

  <!-- Settings: Displayed as a Materialize Modal -->
  <div id="settings_dialog" class="modal modal-fixed-footer">
    <div class="modal-content" style="height:auto">
      <h4><span class="translatable_settings">Settings</span></h4>
      <div class="modal_section">
        <label><span class="translatable_compilerLocation">Compiler Location</span>:</label>
        <input type="text" id="settings_compiler_location">
      </div>
      <div class="modal_section">
        <label><span class="translatable_sketchFolder">Sketch Folder</span>:</label>
        <input type="text" id="settings_sketch_location">
      </div>
      <div class="modal_section" style="display:none">
        <label><span class="translatable_arduinoBoard">Arduino Board</span>:</label>
        <select name="settings_board" id="board">
          <option value="uno" class="translatable_arduinoBoardDefault">Arduino Board unknown</option>
        </select>
      </div>
      <!-- <div class="modal_section" >
        <label><span class="translatable_comPort">COM Port<span>:</label>
        <select name="settings_serial" id="serial_port">
          <option value="COMX" class="translatable_comPortDefault">COM Port unknown</option>
        </select>
      </div> -->
      <div class="modal_section" style="display:none">
        <label><span class="translatable_defaultIdeButton">Default IDE button</span>:</label>
        <select name="settings_ide" id="ide_settings">
          <option value="verify" class="translatable_defaultIdeButtonDefault">IDE options unknown</option>
        </select>
      </div>
      <div class="modal_section" style="display:none">
        <label><span class="translatable_language">Language</span>:</label>
        <select name="settings_language" id="language"></select>
      </div>
    </div>
    <div class="modal-footer">
      <a href="#" class="waves-effect btn-flat modal-close"><span class="translatable_return">Return</span></a>
    </div>
  </div>

    <!-- Settings: Displayed as a Materialize Modal -->
    <div id="setting_com" class="modal modal-fixed-footer">
      <div class="modal-content">
        <h4><span class="translatable_settings">Settings</span></h4>
        <div class="modal_section" >
          <label><span class="translatable_comPort">COM Port<span>:</label>
          <select name="settings_serial" id="serial_port">
            <option value="COMX" class="translatable_comPortDefault">COM Port unknown</option>
            
          </select>
        </div>
      </div>
      <div class="modal-footer">
        <a href="#" class="waves-effect btn-flat modal-close"><span class="translatable_return">Return</span></a>
      </div>
    </div>

  <!-- Select Additional Blocks menu -->
  <div id="blocks_menu" class="modal modal-fixed-footer">
    <div class="modal-content">
      <div>
        <h4><span class="translatable_addBlocksTitle">Additional Blocks</span></h4>
      </div>
      <div id="blocks_menu_body"></div>
    </div>
    <div class="modal-footer">
      <a href="#" class="waves-effect btn-flat modal-close"><span class="translatable_return">Return</span></a>
    </div>
  </div>

  <!-- General Alert: Content is loaded using JavaScript to display alerts -->
  <div id="gen_alert" class="modal modal_small modal-fixed-footer">
    <div class="modal-content">
      <h5 id="gen_alert_title">Empty Alert</h4>
      <p><span id="gen_alert_body">Empty alert text</span></p>
    </div>
    <div class="modal-footer">
      <a id="gen_alert_ok_link" href="#" class="waves-effect btn-flat modal-close"><span class="translatable_okay">Okay</span></a>
      <a id="gen_alert_cancel_link" href="#" class="waves-effect btn-flat modal-close"><span class="translatable_cancel">Cancel</span></a>
    </div>
  </div>

  <!-- Prompt: Content is loaded using JavaScript to display input prompt -->
  <div id="gen_prompt" class="modal modal_small modal-fixed-footer">
    <div class="modal-content">
      <p><span id="gen_prompt_message">Prompt message</span></p>
      <p><input id="gen_prompt_input" value="test" /></p>
    </div>
    <div class="modal-footer">
      <a id="gen_prompt_ok_link" href="#" class="waves-effect btn-flat modal-close"><span class="translatable_okay">Okay</span></a>
      <a id="gen_prompt_cancel_link" href="#" class="waves-effect btn-flat modal-close"><span class="translatable_cancel">Cancel</span></a>
    </div>
  </div>

  <!-- Local Modal to be shown if Ardublockly Server is not running. -->
  <div id="not_running_dialog" class="modal">
    <div class="modal-content">
      <div>
        <h4 id="gen_alert_title"><span class="translatable_noServerTitle">Ardublockly app not running</span></h4>
      </div>
      <div class="translatable_noServerBody">
        <p>For all the Ardublockly features to be enabled, the Ardublockly desktop application must be running locally on your computer.</p>
        <p>If you are using an online version you will not be able to configure the settings nor load the blocks code into an Arduino.</p>
        <p>Installation instruction can be found in the <a href="https://github.com/carlosperate/ardublockly">Ardublockly repository</a>.</p>
        <p>If you have Ardublockly already installed, make sure the application is running correctly.</p>
      </div>
    </div>
    <div class="modal-footer">
      <a id="gen_alert_ok_link" href="#" class="waves-effect btn-flat modal-close"><span class="translatable_okay">Okay</span></a>
    </div>
  </div>

  <!-- Desktop version of Ardublockly JS, needs to be loaded first. -->
  <script src="ardublockly_desktop.js"></script>
  <!-- jQuery and Materialize JS -->
  <script src="js_libs/jquery-2.1.3.min.js"></script>
  <script src="materialize/materialize.js"></script>
  <!-- FileSaver JS -->
  <script src="js_libs/FileSaver.min.js"></script>
  <!-- JS Diff -->
  <script src="js_libs/diff.js"></script>
  <!-- Prettify JS -->
  <script src="prettify/prettify.js"></script>
  <!-- Ardublockly app -->
  <script src="ardublockly_toolbox.js"></script>
  <script src="ardublockly_toolbox_python.js"></script>
  <script src="ardublocklyserver_ajax.js"></script>
  <script src="ardublockly_lang.js"></script>
  <script src="ardublockly_design.js"></script>
  <script src="ardublockly_blockly.js"></script>
  <script src="ardublockly.js"></script>
  <script>
    window.addEventListener('load', function load(event) {
      window.removeEventListener('load', load, false);
      Ardublockly.init();
    });
  </script>
  <script>
  console.log($(".blocklyTreeRoot").css());
  </script>
</body>
</html>
=======


Blockly.Blocks['robocarv2'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.robocarv2);
    this.setNextStatement(true, null);
    this.setColour('#FFBF00');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};


Blockly.Blocks['kcbot_motor_phenikaa'] = {
  init: function() {
    this.appendValueInput("ID")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_phenikee_id)
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_phenikee_tien)
        .appendField(new Blockly.FieldDropdown([["Tiến","1"], ["lùi","0"]]), "MOTOR")
    this.appendValueInput("SPEED")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_motor_speed)
    this.setPreviousStatement(true, null);
    this.setInputsInline(true);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_run_forward'] = {
  init: function() {
    this.appendDummyInput()
        .appendField()
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_run_forward,"0"], [Blockly.Msg.kcbot_run_back,"1"], [Blockly.Msg.kcbot_run_left,"2"], [Blockly.Msg.kcbot_run_right,"3"]]), "MOTOR")
    this.appendValueInput("SPEED")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_run)
    this.setPreviousStatement(true, null);
    this.setInputsInline(true);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_run_forward_at_sec'] = {
  init: function() {
    this.appendDummyInput()
        .appendField()
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_run_forward,"0"], [Blockly.Msg.kcbot_run_back,"1"], [Blockly.Msg.kcbot_run_left,"2"], [Blockly.Msg.kcbot_run_right,"3"]]), "MOTOR")
    this.appendValueInput("SPEED")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_run)
    this.appendValueInput("sec")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_run_forward_at_sec)
    this.appendDummyInput()
        .appendField(Blockly.Msg.sec);
    this.setPreviousStatement(true, null);
    this.setInputsInline(true);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_stop_moving'] = {
  init: function() {
    this.appendDummyInput()   
        .appendField(Blockly.Msg.kcbot_stop_moving)
    this.setPreviousStatement(true, null);
    this.setInputsInline(true);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_bluetooth'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Điều khiển bluetooth");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};


Blockly.Blocks['kcbot_ledrgb'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_ledrgb)
        .appendField(new Blockly.FieldDropdown([["Tất cả","7"],["Led 1","0"], ["led 2","1"], ["led 3","2"], ["led 4","3"], ["led 5","4"], ["led 6","5"], ["led 7","6"]]), "slectMode")
        this.appendValueInput("red")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_ledrgb_red)
        this.appendValueInput("green")
        .setCheck("Number") 
        .appendField(Blockly.Msg.kcbot_ledrgb_green)
        this.appendValueInput("blue")
        .setCheck("Number") 
        .appendField(Blockly.Msg.kcbot_ledrgb_blue)
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_servo'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_servo_setup)
        .appendField(new Blockly.FieldDropdown([["S1","1"], ["S2","0"], ["S3","2"], ["S4","3"]]), "servo")
        .appendField(Blockly.Msg.kcbot_servo_angle)
        .appendField(new Blockly.FieldAngle(90), "angle");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_tone'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_tone_note)
        .appendField(new Blockly.FieldDropdown([["B0","31"],["C1","33"],["D1","37"],["E1","41"],["F1","44"],["G1","49"],["A1","55"],["B1","62"],["C2","65"],["D2","73"],["E2","82"],["F2","87"],["G2","98"],["A2","110"],["B2","123"],["C3","131"],["D3","147"],["E3","165"],["F3","175"],["G3","196"],["A3","220"],["B3","247"],["C4","262"],["D4","294"],["E4","330"],["F4","349"],["G4","392"],["A4","440"],["B4","494"],["C5","523"],["D5","587"],["E5","659"],["F5","698"],["G5","784"],["A5","880"],["B5","988"],["C6","1047"],["D6","1175"],["E6","1319"],["F6","1397"],["G6","1568"],["A6","1760"],["B6","1976"],["C7","2093"],["D7","2349"],["E7","2637"],["F7","2794"],["G7","3136"],["A7","3520"],["B7","3951"],["C8","4186"],["D8","4699"]]), "note")
        .appendField(Blockly.Msg.kcbot_tone)
        .appendField(new Blockly.FieldDropdown([["Halft","500"], ["Phần tư","250"], ["Thứ tám","125"], ["Whole","1000"], ["Double","2000"], ["0","0"]]), "tone");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
}
Blockly.Blocks['kcbot_lcd'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_lcd_dia_chi)
        .appendField(new Blockly.FieldDropdown([["0x27","0x27"], ["0x3F","0x3F"]]), "data")
    this.appendValueInput("text")
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_lcd_display);
    this.appendValueInput("x")
        .setCheck(Blockly.Types.NUMBER.checkList)
        .appendField(Blockly.Msg.kcbot_lcd_pos);
    this.appendValueInput("y")
        .setCheck(Blockly.Types.NUMBER.checkList);
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour("#844957");
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_lcd_clear'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_lcd_clear);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour("#844957");
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_rtc_set_time'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_rtc_set_time)
        .appendField(new Blockly.FieldNumber(1, 0, 23, 1), "hour")
        .appendField(":")
        .appendField(new Blockly.FieldNumber(1, 0, 59, 1), "min")
        .appendField(":")
        .appendField(new Blockly.FieldNumber(1, 0, 59, 1), "sec")
        .appendField(Blockly.Msg.kcbot_rtc_set_time_dayofweek )
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_rtc_set_time_sun,"8"], [Blockly.Msg.kcbot_rtc_set_time_mon,"2"], [Blockly.Msg.kcbot_rtc_set_time_tues,"3"], [Blockly.Msg.kcbot_rtc_set_time_wed,"4"], [Blockly.Msg.kcbot_rtc_set_time_thur,"5"], [Blockly.Msg.kcbot_rtc_set_time_fri,"6"], [Blockly.Msg.kcbot_rtc_set_time_sat,"7"]]), "week")
        .appendField(new Blockly.FieldNumber(1, 0, 31, 1), "day")
        .appendField("-")
        .appendField(new Blockly.FieldNumber(1, 0, 12, 1), "month")
        .appendField("-")
        .appendField(new Blockly.FieldNumber(2018, 0, Infinity, 1), "year")
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_rtc_update'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_rtc_update);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_rtc_read_time'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_rtc_read_time);
    this.setInputsInline(true);
    this.setOutput(true, "String");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_rtc_read_date'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_rtc_read_date);
    this.setInputsInline(true);
    this.setOutput(true, "String");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};


Blockly.Blocks['kcbot_readlm35'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_readlm35)
        .appendField(new Blockly.FieldDropdown([["A0","A0"], ["A1","A1"], ["A2","A2"], ["A3","A3"], ["A4","A4"], ["A5","A5"], ["A6","A6"], ["A7","A7"]]), "MOTOR")
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};
Blockly.Blocks['kcbot_read_Doam'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_read_Doam)
        .appendField(new Blockly.FieldDropdown([["A0","A0"], ["A1","A1"], ["A2","A2"], ["A3","A3"], ["A4","A4"], ["A5","A5"], ["A6","A6"], ["A7","A7"]]), "MOTOR")
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};
Blockly.Blocks['kcbot_dht11_humi'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_dht11_read)
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_dht11_humi,"1"], [Blockly.Msg.kcbot_dht11_temp,"2"]]), "MOTOR")
    //this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_dht11_pin)
        .appendField(new Blockly.FieldDropdown(
            Blockly.Arduino.Boards.selected.digitalPins), 'PIN')
        //.appendField(Blockly.Msg.ARD_WRITE_TO)
        //.setCheck(Blockly.Types.NUMBER.output);
    this.setInputsInline(false);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
    updateFields: function() {
    Blockly.Arduino.Boards.refreshBlockFieldDropdown(this, 'PIN', 'pwmPins');
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};


Blockly.Blocks['kcbot_Irrecive'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("IR");
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};
Blockly.Blocks['kcbot_read_irf'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_getIr)
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_getIr_k1, '1'], [Blockly.Msg.kcbot_getIr_k2, '2'], [Blockly.Msg.kcbot_getIr_k3, '3'], [Blockly.Msg.kcbot_getIr_k4, '4'], [Blockly.Msg.kcbot_getIr_k5, '5'], [Blockly.Msg.kcbot_getIr_k6, '6'], [Blockly.Msg.kcbot_getIr_k7, '7']]),'STATE1');
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_getIr_key)
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_getIr_key_go, '1'], [Blockly.Msg.kcbot_getIr_key_back, '2'], [Blockly.Msg.kcbot_getIr_key_right, '3'], [Blockly.Msg.kcbot_getIr_key_left, '4'], [Blockly.Msg.kcbot_getIr_key_f2, '6'], [Blockly.Msg.kcbot_getIr_key_f4, '7'], [Blockly.Msg.kcbot_getIr_key_f6, '8']]),'STATE2');
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};
Blockly.Blocks['kcbot_read_data_ir'] = {
  init: function() {
    this.appendValueInput("trig")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_read_data_ir)
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};

Blockly.Blocks['kcbot_ultrasonic'] = {
  init: function() {
    this.appendValueInput("trig")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_ultrasonic_trig)
    this.appendValueInput("echo")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_ultrasonic_echo)
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};
Blockly.Blocks['kcbot_rtc_read'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_rtc_read)
        .appendField(new Blockly.FieldDropdown([[Blockly.Msg.kcbot_rtc_read_hour,"0"], [Blockly.Msg.kcbot_rtc_read_min,"1"], [Blockly.Msg.kcbot_rtc_read_sec,"2"], [Blockly.Msg.kcbot_rtc_read_dayofweek,"3"], [Blockly.Msg.kcbot_rtc_read_date,"4"], [Blockly.Msg.kcbot_rtc_read_month,"5"], [Blockly.Msg.kcbot_rtc_read_year,"6"]]), "value");
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_Serial'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_Serial_read)
        .appendField();
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour(Blockly.Blocks.serial.HUE);
 this.setTooltip("");
 this.setHelpUrl("");
},
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};
Blockly.Blocks['kcbot_apikey'] = {
 init: function() {
    this.appendValueInput("text")
        .setCheck(null)
        .appendField("APIkey gửi:");
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_123'] = {
  init: function() {
    this.appendValueInput('text')
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_123);
    this.appendValueInput('text1')
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_mat);
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_trans'] = {
  init: function() {
    this.appendValueInput('text')
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_trans_name);
    this.appendValueInput('text1')
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_trans_pass);
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_web'] = {
  init: function() {
    this.appendValueInput('text')
        .setCheck(null)
        .appendField("Tạo nút tên");
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_web_read'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(new Blockly.FieldDropdown([["OFF","0"], ["ON","1"]]), "value");
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_Blynk'] = {
  init: function() {
        this.appendValueInput("text")
        .setCheck(null)   
        .appendField(Blockly.Msg.kcbot_Blynk_Api)
        this.appendValueInput("text1")
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_Blynk_Name)
        this.appendValueInput("text2")
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_Blynk_Pass)
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_Blynk_tran'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Gửi lên cổng")
        .appendField(new Blockly.FieldDropdown([["V0","V0"], ["V1","V1"], ["V2","V2"], ["V3","V3"], ["V4","V4"], ["V5","V5"], ["V6","V6"], ["V7","V7"], ["V8","V8"], ["V9","V9"]]), "com")
        this.appendValueInput("y")
        .setCheck(Blockly.Types.NUMBER.checkList)
        .appendField("Dữ liệu");
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_web_kidscode'] = {
  init: function() {
    this.appendDummyInput()
        .appendField("Dữ liệu nhận được")
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_thing'] = {
 init: function() {
    this.appendValueInput("x")
        .setCheck(Blockly.Types.NUMBER.checkList)
        .appendField(Blockly.Msg.kcbot_api);
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_bang)
        .appendField(new Blockly.FieldDropdown([["1","1"], ["2","2"], ["3","3"], ["4","4"], ["5","5"], ["6","6"], ["7","7"], ["8","8"]]), "bang")
    this.appendValueInput("text")
        .setCheck(null)
        .appendField(Blockly.Msg.kcbot_Write);
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
}
};
Blockly.Blocks['kcbot_sotrungvi'] = {
  init: function() {
    this.appendValueInput("x")
        .setCheck(Blockly.Types.NUMBER.checkList)
        .appendField(Blockly.Msg.kcbot_sotrungvi);
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_tds'] = {
  init: function() {
    this.appendDummyInput()
        .appendField('Đọc giá trị TDS tại các chân (A0, D2, D5)')
        .appendField();
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_tdssai'] = {
  init: function() {
    this.appendValueInput('text')
        .setCheck(Blockly.Types.NUMBER.checkList)
        .appendField("Giá trị sai số");
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['kcbot_nhietdo'] = {
  /**
   * Block for reading an analogue input.
   * @this Blockly.Block
   */
  init: function() {
    this.setHelpUrl('http://arduino.cc/en/Reference/AnalogRead');
    this.setColour(Blockly.Blocks.io.HUE);
    this.appendDummyInput()
        .appendField(Blockly.Msg.ARD_nhietdo)
        .appendField(new Blockly.FieldDropdown(
            Blockly.Arduino.Boards.selected.analogPins), 'PIN');
    this.setOutput(true, Blockly.Types.NUMBER.output);
    this.setColour('#00abd6');
  },
  /** @return {!string} The type of return value for the block, an integer. */
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
  /**
   * Updates the content of the the pin related fields.
   * @this Blockly.Block
   */
  updateFields: function() {
    Blockly.Arduino.Boards.refreshBlockFieldDropdown(this, 'PIN', 'analogPins');
  }
};
Blockly.Blocks['kcbot_hieuchinh'] = {
  init: function() {
    this.appendValueInput('text')
        .setCheck(Blockly.Types.NUMBER.checkList)
        .appendField("Giá trị hiệu chỉnh");
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};
Blockly.Blocks['loop_forever'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.loop_forever);
    this.appendStatementInput("DO")
        .setCheck(null)
        .appendField(Blockly.Msg.loop_forever_do);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);
    this.setColour(120);
    this.setColour('#FFAB19');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};






Blockly.Blocks['kcbot_motor'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_motor_motor)
        .appendField(new Blockly.FieldDropdown([["M1","0"], ["M2","1"]]), "MOTOR")
    this.appendValueInput("SPEED")
        .setCheck("Number")    
        .appendField(Blockly.Msg.kcbot_motor_speed)
    this.setPreviousStatement(true, null);
    this.setInputsInline(true);
    this.setNextStatement(true, null);
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  }
};

Blockly.Blocks['kcbot_readDS18b20'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.kcbot_readDS18b20)
        .appendField(new Blockly.FieldDropdown(
            Blockly.Arduino.Boards.selected.digitalPins), 'PIN');
            //Blockly.Arduino.Boards.selected.digitalPins_esp32;
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setColour('#00abd6');
 this.setTooltip("");
 this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};

// ---------------------------------------Airsense----------------------------------------



var Analog_pin_esp32 = [
  ['2', '2'],
  ['4', '4'],
  ['12', '12'],
  ['13', '13'],
  ['14', '14'],
  ['15', '15'],
  ['25', '25'],
  ['26', '26'],
  ['27', '27'],
  ['32', '32'],
  ['33', '33'],
  ['34', '34'],
  ['35', '35'],
  ['36', '36'],
  ['39', '39']
];

var Digital_pin_esp32 = [
  ['2', '2'],
  ['4', '4'],
  ['5', '5'],
  ['15', '15'],
  ['13', '13'],
  ['12', '12'],
  ['14', '14'],
  ['16', '16'],
  ['17', '17'],
  ['18', '18'],
  ['19', '19'],
  ['21', '21'],
  ['22', '22'],
  ['23', '23'],
  ['26', '26'],
  ['27', '27'],
  ['25', '25'],
  ['33', '33'],
  ['32', '32'],
  ['35', '35'],
  ['34', '34'],
  ['36', '36'],
  ['39', '39']
];

var Priority_task_RTOS = [
  ['1', '1'],
  ['2', '2'],
  ['3', '3'],
  ['4', '4'],
  ['5', '5'],
  ['6', '6'],
  ['7', '7'],
  ['8', '8'],
  ['9', '9'],
  ['10', '10'],
  ['11', '11'],
  ['12', '12'],
  ['13', '13'],
  ['14', '14'],
  ['15', '15'],
  ['16', '16'],
  ['17', '17'],
  ['18', '18'],
  ['19', '19'],
  ['20', '20'],
  ['21', '21'],
  ['22', '22'],
  ['23', '23'],
  ['24', '24'],
  ['25', '25']
];


Blockly.Blocks['AirsenseReadDataBME280'] = {
  init: function() {
  this.appendDummyInput()
      .appendField(Blockly.Msg.AirsenseReadDataBME280)
      .appendField(new Blockly.FieldDropdown([["Nhiệt độ","Nhiệt độ"],["Độ ẩm","Độ ẩm"],["Áp suất","Áp suất"]]), "Type data BME280")
      .appendField("SDA")
      .appendField(new Blockly.FieldDropdown(Digital_pin_esp32), "I2C_port_SDA")
      .appendField("SCL")
      .appendField(new Blockly.FieldDropdown(Digital_pin_esp32), "I2C_port_SCL")
  this.setColour('#00abd6');
  this.setInputsInline(false);
  this.setOutput(true, "Number");
  //this.setNextStatement(true, null);
  //this.setPreviousStatement(true, null);
  this.setTooltip("");
  this.setHelpUrl("");
  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },
};

  var nameTask = ["Nhiệm vụ 1"];
  var firsPriority = 1 ;

  Blockly.Blocks['freeRTOS'] = {
    init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.freeRTOS)      
        .appendField(new Blockly.FieldTextInput(nameTask), "Name task")
    this.appendDummyInput()
        .appendField("Bộ nhớ task")
        .appendField(new Blockly.FieldDropdown([["128","128"], ["256","256"], ["512","512"],["1024","1024"]]),"Memory task")
        .appendField("Độ ưu tiên")
        .appendField(new Blockly.FieldDropdown(Priority_task_RTOS), "Priority task")
    this.appendValueInput("Text")
        .setCheck(null)
        .appendField("Hàm")
    this.setColour('#00abd6');
    this.setInputsInline(true);
    this.setPreviousStatement(true, null);
    this.setNextStatement(true, null);


    this.setTooltip("");
    this.setHelpUrl("");
    },
    getBlockType: function() {
      return Blockly.Types.NUMBER;
    },
  };


Blockly.Blocks['AirsenseReadDataPMS7003'] = {
  init: function() {
    this.appendDummyInput()
        .appendField(Blockly.Msg.AirsenseReadDataPMS7003)
        .appendField(new Blockly.FieldDropdown([["PM1","PM1"],["PM2.5","PM2.5"],["PM10","PM10"]]), "Type data PMS7003")
        .appendField("Tốc độ truyền dữ liệu")
        .appendField(new Blockly.FieldDropdown([["9600","9600"],["115200","1152200"]]),"Baud speed")
        .appendField("Cổng UART")
        .appendField(new Blockly.FieldDropdown([["1","1"],["2","2"]]),"Port uart")
        .appendField("Chân RX")
        .appendField(new Blockly.FieldDropdown(Digital_pin_esp32),"Port rx")
        .appendField("Chân TX")
        .appendField(new Blockly.FieldDropdown(Digital_pin_esp32),"Port tx")



    this.setColour('#00abd6');
    this.setInputsInline(true);
    this.setOutput(true, "Number");
    this.setTooltip("");
    this.setHelpUrl("");
    },
    getBlockType: function() {
      return Blockly.Types.NUMBER;
    },
}

Blockly.Blocks['ESP32_wireless'] = {
  init: function() {
      var dropdown = new Blockly.FieldDropdown([["Select","Select"],["Wifi","Wifi"],["Bluetooth","Bluetooth"]], function(option) {
          this.updateShape_(option);
      }.bind(this));
      
      this.appendDummyInput()
          .appendField("Lựa chọn kết nối không dây (Wifi/Bluetooth)")
          .appendField(dropdown, "Select");
      
      this.appendDummyInput("WifiInputs")
          .appendField("WiFi Settings")
          .appendField(new Blockly.FieldTextInput("WiFi Name"), "Name_wifi")
          .appendField(new Blockly.FieldTextInput("Password"), "Password")
          .setVisible(false);
      
      this.appendDummyInput("BluetoothInputs")
          .appendField("Bluetooth Settings")
          .appendField(new Blockly.FieldTextInput("Bluetooth Name"), "Name_bluetooth")
          .setVisible(false);
    
      this.setColour('#00abd6');
      this.setInputsInline(false);
      this.setNextStatement(true, null);
      this.setPreviousStatement(true, null);
      this.setTooltip("");
      this.setHelpUrl("");
  },
  onchange: function() {
      var option = this.getFieldValue("Select");
      this.updateShape_(option);
  },
  updateShape_: function(option) {
      var wifiInputs = (option == "Wifi");
      var bluetoothInputs = (option == "Bluetooth");
      
      this.getInput("WifiInputs").setVisible(wifiInputs);
      this.getInput("BluetoothInputs").setVisible(bluetoothInputs);
  },
  getBlockType: function() {
      return Blockly.Types.NUMBER;
  },
}

Blockly.Blocks['AirsenseReadDataMHZ14A'] =  {
  init: function(){
    this.appendDummyInput()
        .appendField(Blockly.Msg.AirsenseReadDataMHZ14A)
        .appendField("Tốc độ truyền dữ liệu")
        .appendField(new Blockly.FieldDropdown([["9600","9600"],["115200","1152200"]]),"Baud speed")
        .appendField("Cổng UART")
        .appendField(new Blockly.FieldDropdown([["1","1"],["2","2"]]),"Port uart")
        .appendField("Chân RX")
        .appendField(new Blockly.FieldDropdown(Digital_pin_esp32),"Port rx")
        .appendField("Chân TX")
        .appendField(new Blockly.FieldDropdown(Digital_pin_esp32),"Port tx")
    
        this.setColour('#00abd6');
        this.setInputsInline(false);
        this.setOutput(true , "Number");
        this.setTooltip("");
        this.setHelpUrl("");

  },
  getBlockType: function() {
    return Blockly.Types.NUMBER;
  },

}
>>>>>>> 266579dc7e895655fb8eb2307aa685aaa1f51807
